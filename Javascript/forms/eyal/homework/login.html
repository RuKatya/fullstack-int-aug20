<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    @font-face {
        font-family: "radioland";
        src: url("radioland.ttf") format("truetype");

    }

    .container {
        margin: auto;
        width: max-content;
        height: max-content;
        padding: 1%;
        border: 1px solid black;
        border-radius: 10px;
        box-shadow: 7px 10px 5px -1px rgba(0, 0, 0, 0.8);
        background-color: rgba(203, 203, 219, 0.322);
        /* transition: all 250ms; */
        position: relative;
    }




    .keypad {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(4, 1fr);

    }

    .button {
        width: 100px;
        height: 100px;

    }

    #button0 {
        grid-column: 1/3;
        grid-row: 4;
    }

    #reset {
        grid-column: 3;
        grid-row: 4;
    }

    #userscrean {

        height: 50px;
        padding: 10px;
        background-color: rgba(17, 15, 15, 0.568);
        
        color: white;
        font-family: 'radioland';
        width: 95%;
        z-index: 3;
    }

    .cover {
        margin: 0px 0פס 5px 0px;
        width: 87%;
        height: 80px;
        background-color: rgba(203, 203, 219, 0.534);
        box-shadow: inset 3px 3px 3px -1px rgba(0, 0, 0, 0.55);
        position: absolute;
        border: 3px solid rgba(54, 47, 47, 0.774);
        top: 150px;
        transition: all 5000ms;
        /* display: none; */
        z-index: 2;
    }

    #loginform {
        z-index: 1;
        display: grid;
        /* flex-direction: column; */
        padding-bottom: 5%;
        grid-template-rows: 1fr 1fr;
        grid-template-columns: 4fr 1fr;
        column-gap: 5px;
        border: 1px solid black;
        padding: 10px;
        margin-bottom: 5px;
        box-shadow: inset 6px 6px 6px -1px rgba(0, 0, 0, 0.55);
        /*  display: none; */
    }

    #userName {
        grid-row: 1;
        grid-column: 1/3;
    }

    #password {
        grid-row: 2;
        grid-column: 1;
    }

    #buttonOK {
        grid-row: 2;
        grid-column: 2;
    }

    .hedcontainer {
        display: flex;
        flex-direction: column;
        /* padding-bottom: 5%;   */
    }

    .hedcontainer>h1 {
        margin: auto;
        color: blue;
    }

    #screan {
        /* תמונת האוצר */
        display: none;
        width: 300px;
        height: 400px;

    }


    .userscreanFrame {
        /* background-color: rgba(17, 15, 15, 0.568); */
        box-shadow: inset 6px 6px 6px -1px rgba(0, 0, 0, 0.55);
        padding: 4px 0px 0px 4px;
        border: 1px solid black;
        display: flex;
    }

    input {
        margin-top: 5px;
        line-height: 2;
        border-radius: 5px;
        padding-right: 5px;
    }

    .clicked {
        background-color: #CCE4F7;
        border-color: #0B5C9E;
    }
</style>

<body>
    <div class="container">
        <div class="hedcontainer">
            <h1>הכספת</h1>
            <!-- <input type="t ext"  name="screan" id="userscrean" placeholder="אנא הזן שם משתמש , סיסמא וקוד בן ארבעה ספרות"> -->
            <div class="userscreanFrame">
                <textarea Readonly="true" dir="LTR" rows="2" name="screan" id="userscrean"
                    placeholder="Enter UserName & Pass Next Enter Code "></textarea>
            </div>
        </div>

        <form id="loginform" onsubmit="submitForm(event)">
            <input type="text" name="userName" id="userName" placeholder="שם משתמש">
            <input type="password" name="password" id="password" placeholder="סיסמא">
            <input type="submit" id="buttonOK" value="OK">
        </form>

        <div id="cover" class="cover">

        </div>

        <div id="keypadform" class="keypad">
            <button ID="button1" class="button" onclick="buttonclick(event.key)">1</button>
            <button ID="button2" class="button" onclick="buttonclick(event.key)">2</button>
            <button ID="button3" class="button" onclick="buttonclick(event.key)">3</button>
            <button ID="button4" class="button" onclick="buttonclick(event.key)">4</button>
            <button ID="button5" class="button" onclick="buttonclick(event.key)">5</button>
            <button ID="button6" class="button" onclick="buttonclick(event.key)">6</button>
            <button ID="button7" class="button" onclick="buttonclick(event.key)">7</button>
            <button ID="button8" class="button" onclick="buttonclick(event.key)">8</button>
            <button ID="button9" class="button" onclick="buttonclick(event.key)">9</button>
            <button id="button0" onclick="buttonclick(event.key)">0</button>
            <button id="reset" type="reset" onclick="clearScreen()">Clear</button>
        </div>

        <img id="screan" src="tr.jpg" alt="">

    </div>

    <script>
        const thecode = { name: "אייל", pass: "ברבאבה", keycod: "9,0,5,1" };
        let passOK = false;
        const userscrean = document.querySelector("#userscrean");
        const passEnterd = [];


        function submitForm(event) {
            const form = event.target.children;
            event.preventDefault();
            console.log(form.userName.value, form.password.value)
            if ((form.userName.value == thecode.name) && (form.password.value == thecode.pass)) {
                userscrean.value = "password OK, enter Code";
                passOK = true;
                setTimeout(function () { clearScreen(); }, 1500);
                userscrean.focus();
            } else {
                userscrean.value = "password Not OK";
            }
        }


        document.addEventListener("keydown", function (event) {
            console.log(event.key)
            document.getElementById("button" + event.key).classList.add('clicked');
        })

        document.addEventListener("keyup", function (event) {


            switch (event.key) {
                case "0":
                    // document.getElementById("button0").focus();
                    buttonclick(event.key);
                    console.log(event.key);
                    break;
                case "1":
                    // document.getElementById("button1").focus();
                    buttonclick(event.key);
                    break;

                case "2":
                    // document.getElementById("button2").focus();
                    buttonclick(event.key);
                    break;
                case "3":
                    //  document.getElementById("button3").focus();
                    buttonclick(event.key);
                    break;

                case "4":
                    // document.getElementById("button4").focus();
                    buttonclick(event.key);
                    break;
                case "5":
                    // document.getElementById("button5").focus();
                    buttonclick(event.key);
                    break;

                case "6":
                    // document.getElementById("button6").focus();
                    buttonclick(event.key);
                    break;
                case "7":
                    //document.getElementById("button7").focus();
                    buttonclick(event.key);
                    break;

                case "8":
                    //  document.getElementById("button8").focus();
                    buttonclick(event.key);
                    break;
                case "9":
                    // document.getElementById("button9").focus();
                    buttonclick(event.key);
                    break;

                case ".":
                    document.getElementById("reset").focus();
                    clearScreen();
                    /* userscrean.style = "font-size=6px" */
                    userscrean.value = "Enter UserName & Pass Next Enter Code.";
                    break;
            }

        })

        function buttonclick(key) {


            document.getElementById("button" + key).classList.remove('clicked');

            if (passOK == true) {
                userscrean.value += "-";
                passEnterd.push(key)
                let x = passEnterd.toString();
                if (x == thecode.keycod) {
                    userscrean.value = "           Welcom";
                    document.querySelector("#keypadform").style.display = "none";

                    document.querySelector("#screan").style.display = "block";
                }

            } else {
                console.log(document.querySelector("#screan").style);
                document.querySelector("#screan").style.background = "red";
            }

        }



        function clearScreen() {
            userscrean.value = "";
        }


        const cover = document.querySelector("#cover");

        cover.addEventListener('click', function (event) {
            console.log("ok")
            cover.style.transform = 'translate(0px,-100px)';
        });
    </script>
</body>

</html>