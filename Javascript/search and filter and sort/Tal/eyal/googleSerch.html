<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    #searchContainer {
        border-radius: 10px;
        width: 30%;
        height:  400px;
        border: 1px solid black;
        margin: auto;
        position: relative;
        top: 100px;

    }
    h1{
        margin-left: 35%;
    }
    #serchBox{
        width: 400px;
        height: 20px;
        margin-left: 15%;
        padding: 15px;
    }

    #resulets {
        display: flex;
        flex-direction: column;
        margin-left: 15%;
        background-color: white;
        border: 1px solid black;
        width: 400px;
        border-radius: 0 0 10px 10px;
    }
</style>

<body>
    <div id="searchContainer">
        <h1>BOOKLE</h1>
        <input type="search" name="serchBox" id="serchBox" onkeyup="handleSearch(event)">
        <div id="resulets"></div>
    </div>

    <script>
        const booksArray =
            [{ BookName: "herry potter 4", Year: "2014" },
            { BookName: "herry potter 2", Year: "1999" },
            { BookName: "herry potter 3", Year: "2001" },
            { BookName: "herry potter 1", Year: "1978" },
            { BookName: "herry potter 119", Year: "2200" },
            { BookName: "imposibole mishopn", Year: "1" },
            { BookName: "imposibole brack", Year: "2" },
            { BookName: "imposibole cack", Year: "3" },
            { BookName: "mishopn black", Year: "4" },
            { BookName: "code black", Year: "5" },
            { BookName: "imposibole rooms", Year: "6" }
            ];
        /* let searchTerm2 = new RegExp(booksArray,'g'); */


        function handleSearch(e) {
            document.querySelector('#resulets').innerHTML = ``;
            let resultSearchTerm = [];
            let searchTerm = e.target.value;

            booksArray.forEach(element => {
                let regSearchTerm = new RegExp(searchTerm, 'g');

                if (regSearchTerm.exec(element.BookName)) {
                    resultSearchTerm.push(element)
                }
            })
            resultSearchTerm = resultSearchTerm.sort((a, b) => a.Year - b.Year);
            resultSearchTerm.forEach(book => {
                document.querySelector('#resulets').innerHTML += `<p>${book.BookName}</p>`;
            })

        }
    </script>
</body>

</html>