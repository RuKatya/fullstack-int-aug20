<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    #container {
        width: 30%;
        height: 400px;
        margin: auto;
        position: relative;
        top: 100px;
    }

    p {
        margin-left: 50%;
    }

    #serchBox {
        width: 400px;
        height: 20px;
        margin-left: 15%;
        padding: 15px;
    }

    #resulets {
        display: flex;
        flex-direction: column;
        margin-left: 15%;
        background-color: white;
        border: 1px solid black;
        width: 400px;
        border-radius: 0 0 10px 10px;
    }

</style>

<body>

    <div id="container">
        <p>amazing books</p>
        <input type="search" id="serchBox" placeholder="what book do search" onkeyup="handleSearch(event)">
        <div id="resulets"></div>
    </div>

    <script>

        const books = [{name:"Where's Spot?",year:1980},
        {name:"A Promised Land",year:2020},
        {name:"Heroes' Feast (Dungeons and Dragons) : The Official D and D Cookbook",year:1980},
        {name:"Harry Potter and the Philosopher's Stone",year:1997},
        {name:"1984",year:1949},
        {name:"Ready Player one",year:2011},
        {name:"the monk who sold his ferrari",year:1996}
    ]

    function handleSearch(e) {
            document.querySelector('#resulets').innerHTML = ``;
            let resultSearchTerm = [];
            let searchTerm = e.target.value;
            let regSearchTerm = new RegExp(searchTerm, 'g');
            books.forEach(element => {

                if (regSearchTerm.exec(element.Name)) {
                    resultSearchTerm.push(element)
                }
                console.log(resulets);
                console.log(books);
            })

            resultSearchTerm = resultSearchTerm.sort((a, b) => a.Year - b.Year);
            resultSearchTerm.forEach(book => {
            document.querySelector('#resulets').innerHTML += `<p>${book.Name}</p>`;

            })

        }
    </script>
</body>
</html>